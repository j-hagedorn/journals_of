---
title: Parts of speech patterns
author: J. Hagedorn
date: '2019-01-26'
slug: parts-of-speech-patterns
tags:
  - prosody
meta_img: /images/image.jpg
---

```{r libs, echo=FALSE, message=FALSE, warning=FALSE, paged.print=FALSE}
knitr::opts_chunk$set(echo = FALSE,message=FALSE,warning=FALSE)
library(tidyverse); library(gutenbergr); library(DT); library(sunburstR)
```

### Caveat: 'We murder to dissect'

Voice is both a center, pouring from a single mouth, and also an environment: surrounding, echoing, reverberating, jarring, saturating. Walter J. Ong writes that, immersed in our hearing, we "gather sound simultaneously from every direction at once; I am at the center of my auditory world, which envelopes me, establishing me at a kind of core of sensation and existence..."^[from Ong, Walter J. *Orality and Literacy: The Technologizing of the Word*. Routledge, 2013.]

Ong cautions that writing turns speech into a static, constrained and coffined thing.  I can commiserate.  At times, feeling for a phrase, I have summoned sounds and nonsense words merely to detach words from the written characters to which they have been twined.  So it's strange that the honor he imparts to voice was echoing in my mind when I became intrigued the other day with parsing patterns of poetic sentences.

Yet poetry is perhaps one of few places which bear investigation.  Ong opines that "[Rhythmically balanced, formulaic expressions] can be found occasionally in print but in oral cultures they...are incessant. They form the substance of thought itself."  Written poems are a late remnant of this music.

### Hopeful lepidopterists

Written language is ubiquitous, despite the urgency that we acknowledge what we have lost in branching away from an oral culture.  And one of the things that written language can give us, with its static wings, is a preserved body to stare into, beyond the expiration of inter-personal awkwardness.

Just as Ramon y Cahal segmented and sketch out neuronal cells, making drawings which were both accurate and lovely, we might sketch out the patterns of utterance: not to be useful, or to prove some theory, but merely to observe the unintentional patterns that a voice accumulates across the duration of its expeditions.

We might even hold out hope that they continue to hold the sparks of personhood. As Coleridge proposes: "...if words are not THINGS, they are LIVING POWERS, by which the things of most importance to mankind are actuated, combined, and humanized."^[Coleridge, S.T. *Aids to Reflection*, ed. John Beer (1993), p. 10] 

### Seeing the hinges of speech

Nothing so ambitious is attempted here, though.  Just a sketch of the patterns lying latent in the collected works of some beloved companions.^[By doing this, I am perhaps proving Ong's point that "An oral culture simply does not deal in such items as geometrical figures, abstract categorization, formally logical reasoning processes, definitions, or even comprehensive descriptions, or articulated self-analysis, all of which derive not simply from thought itself but from text-formed thought."]

The sunburst plot below resembles a flower's corolla, a liturgical fan, a geometric sun-flare.  Its petals are the unfolding sequential patterns of parts of speech^[The part-of-speech tagging in `cleanNLP` uses the [universal POS tags](https://universaldependencies.org/u/pos/index.html).  More detailed [Penn Treebank Project codes](https://www.ling.upenn.edu/courses/Fall_2003/ling001/penn_treebank_pos.html) are also available.]: those which follow each turn of a phrase, as signalled by a punctuation mark.^[We could also break up the pattern using sentences, line breaks or stanzas, but that will have to wait for another exploration.]  In the curled pause of a comma, at the hinge of a sentence, how does one coax the next thought?  Approaching the utterances of a poet as a compound mouth, pieced together out of all their works, we can ask what patterns accompany the summoning.

```{r annotate_poets, eval=FALSE}
library(cleanNLP)
cnlp_init_udpipe()
corpus <- feather::read_feather("../../static/data/corpus.feather")

milton <-
  corpus %>%
  filter(title == "Paradise Lost") %>%
  select(text) %>%
  # Remove titles and stanza breaks (all caps)
  filter(text != toupper(text)) %>%
  cnlp_annotate(.$text, as_strings = TRUE) %>%
  cnlp_get_token()

keats <-
  corpus %>%
  filter(author == "Keats, John") %>%
  select(text) %>%
  # Remove titles and stanza breaks (all caps)
  filter(text != toupper(text)) %>%
  cnlp_annotate(.$text, as_strings = TRUE) %>%
  cnlp_get_token()

feather::write_feather(milton,"../../static/data/milton.feather")
feather::write_feather(keats,"../../static/data/keats.feather")
```

```{r get_annotations}
milton <- feather::read_feather("../../static/data/milton.feather")
keats <- feather::read_feather("../../static/data/keats.feather")
```


```{r fig.cap= "POS sequences from Milton's Paradise Lost"}

df <-
  milton %>%
  # Remove apostrophes
  filter(str_detect(word,"'") == F) %>%
  mutate(
    word = str_replace_all(word,"'",""),
    punct = cumsum(upos == "PUNCT")
  ) %>%
  filter(upos != "PUNCT") %>%
  group_by(punct) %>%
  summarize(
    path = paste(tolower(upos), collapse = "-"),
    phrase = paste(word, collapse = " "),
    path_size = n()
  ) %>%
  # Only include phrases with more than one word
  filter(path_size > 1) %>%
  group_by(path) %>%
  mutate(score = n()) %>%
  arrange(score) %>% 
  # Only include patterns which occur more than once
  filter(score > 1) %>%
  ungroup() 

df %>% 
  select(path,score) %>% 
  distinct() %>% 
  arrange(path) %>% 
  sunburst()

# sund2b(df)

```

In Milton's *Paradise Lost*, the most common patterns, if we move outward from the largest segments at the center, include: 

- `cconj-noun-adp`, from phrases such as "`r df %>% filter(str_detect(path,"^cconj-noun-adp")) %>% head(10) %>% .$phrase %>% paste(.,collapse = '", "')`"
- `verb-det-noun`, found in phrases like "`r df %>% filter(str_detect(path,"^verb-det-noun")) %>% head(10) %>% .$phrase %>% paste(.,collapse = '", "')`"


```{r fig.cap = "POS sequences from Keats' selected poems"}
df <-
  keats %>%
  # Remove apostrophes
  filter(str_detect(word,"'") == F) %>%
  mutate(
    word = str_replace_all(word,"'",""),
    punct = cumsum(upos == "PUNCT")
  ) %>%
  filter(upos != "PUNCT") %>%
  group_by(punct) %>%
  summarize(
    path = paste(tolower(upos), collapse = "-"),
    phrase = paste(word, collapse = " "),
    path_size = n()
  ) %>%
  # Only include phrases with more than one word
  filter(path_size > 1) %>%
  group_by(path) %>%
  mutate(score = n()) %>%
  arrange(score) %>% 
  # Only include patterns which occur more than once
  filter(score > 1) %>%
  ungroup() 

df %>% 
  select(path,score) %>% 
  distinct() %>% 
  arrange(path) %>% 
  sunburst()

# legend_items <- unique(unlist(strsplit(df$path, '-')))
# cols <- viridis::viridis_pal(option = "viridis")(length(legend_items))

# df %>% sunburst(
#       colors = list(
#       range=cols,
#       domain=legend_items
#     )
#   )

```

In Keats' poems the most common patterns, if we move outward from the largest segments at the center, include: 

- `cconj-adp-det`, from phrases such as "`r df %>% filter(str_detect(path,"^cconj-adp-det")) %>% head(10) %>% .$phrase %>% paste(.,collapse = '", "')`"
- `adp-det-adj-noun`, found in phrases like "`r df %>% filter(str_detect(path,"^adp-det-adj-noun")) %>% head(10) %>% .$phrase %>% paste(.,collapse = '", "')`"

---

In his afterword to *Museum*, Jorge Luis Borges speculates that all of the wanderings which a person makes eventually trace a recognizable shape:

"A man sets out to draw the world.  As the years go by, he peoples a space with images of provinces, kingdoms, mountains, bays, ships, islands, fishes, rooms, instruments, stars, horses, and individuals.  A short time before he dies, he discovers that that patient labyrinth of lines traces the lineaments of his own face."^[Borges, J.L. *Collected Fictions*. trans. Andrew Hurley. New York: Penguin, 1998.]

than I can accept that a footprint in the dust is equal to a foot. And yet the traces that we leave hold some remnant of us, I beyond our intentions and our desire to win a lasting memory.

Is this an instance of the models we use (e.g. language) speaking louder than our individual voices, or a story about the inadequacy of models to describe the utterance of an individual riding its rules. 

And if the momentary accident of a single phrase can delight with a striking analogy, perhaps the accidental/unintentional patterns of phrasing over the course of oneâ€™s life may also carry some delight.

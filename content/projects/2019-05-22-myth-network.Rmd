---
title: Myth network
author: J. Hagedorn
date: '2019-05-22'
slug: myth-network
categories: []
tags:
  - myth
  - network
description: Desc
hacker_news_id: ''
lobsters_id: ''
meta_img: /images/image.jpg
---

Dataset used in [Miranda PJ, Baptista MS, de Souza Pinto SE (2018) The Odyssey’s mythological network. PLoS ONE 13(7): e0200703.](https://doi.org/10.1371/journal.pone.0200703), available [here](https://abdn.pure.elsevier.com/en/datasets/odysseys-mythological-network)

```{r load, message=FALSE, warning=FALSE}
library(tidyverse); library(tidygraph)
url <- "https://pure.abdn.ac.uk/ws/portalfiles/portal/126193001/Odyssey.txt"
df <- read_delim(url,delim = "\ ",col_names = F,skip = 1) %>% select(from = X2,to = X3)
ntwk <- df %>% as_tbl_graph(directed = F) %>% activate(edges) %>% filter(!edge_is_multiple())
```

In order to explore, we'll begin by computing some measures.  First with the ranking metrics for the *nodes* of the graph (see `?node_rank` for all options):

```{r rank}
ntwk %<>%
  activate(nodes) %>% 
  mutate(
    node_travel = node_rank_traveller(),
    node_anneal = node_rank_anneal(),
    node_visual = node_rank_visual()
  )

```

Next, with measures of *centrality* (see `?centrality` for all options)

```{r centrality}
ntwk %<>%
  activate(nodes) %>% 
  mutate(
    center = node_is_center(),
    keyplayer = node_is_keyplayer(k = 10),
    dist_to_center = node_distance_to(node_is_center()),
    neighbors = centrality_degree(),
    betweenness = centrality_betweenness(),
    bridging = node_bridging_score(),
    # diversity = node_diversity(),
    eigen_center = centrality_eigen(),
    close_impact = node_closeness_impact(),
    connect_impact = node_connectivity_impact(),
    gap_access = node_effective_network_size()
  )
  
```

Node measures:

- *Betweenness*: Betweenness is (roughly) defined by the number of geodesics (shortest paths) going through a vertex or an edge.
- *Bridging*:  Valente and Fujimoto’s metric, where a node’s bridging score is the average decrease in cohesiveness if each of its edges were removed from the graph.  Edges that reduces distances in a network are important structural bridges.
- *Diversity*: Calculates a measure of diversity for all vertices of the node.  The diversity of a vertex is defined as the (scaled) Shannon entropy of the weights of its incident edges.
- *Eigenvector centrality*: Scores correspond to the values of the first eigenvector of the graph adjacency matrix; the centrality of each actor is proportional to the sum of the centralities of those actors to whom he or she is connected. In general, vertices with high eigenvector centralities are those which are connected to many other vertices which are, in turn, connected to many others (and so on).
- *Closeness impact*: The closeness equation as the sum of inverse distances to all other nodes (instead of the inverse of the sum of distances to all other nodes).  This closeness measure shows the change in the sum of the inverse of distances between all node pairs when excluding that node.
- *Connectivity impact*: Connectivity loss indices quantify the decrease in the number of relationships between each node when one or several components are removed. This connectivity measure shows the loss of connectivity when excluding a node.
- *Gap access*: Measures the node actors’ access to structural holes in a network. Structural holes "provide opportunities to broker connections between people" ([Burt 2008](http://faculty.chicagobooth.edu/ronald.burt/research/files/NNappB.pdf)).
- *Neighbors*: The degree of a vertex is its most basic structural property, the number of its adjacent edges.

```{r}
ntwk %>% as_tibble() %>% View()
```

# Edge metrics

```{r}
ntwk %<>%
  activate(edges) %>%
  mutate(edge_center = centrality_edge_betweenness())
```

# Making constellations

Few visualizations seem more fitting for Greek myths than network diagrams; indeed, what pastime did the brds engage in night after night but connecting the dots of the cosmos into stories.  Now, we're unweaving a story into dots.

```{r}
library(ggraph)

layouts <- c('star','circle','gem','dh','graphopt','grid','mds','randomly','fr','kk','drl','lgl')

ntwk_kk <- create_layout(ntwk, layout = "kk")
ntwk_dh <- create_layout(ntwk, layout = "dh")
ntwk_mds <- create_layout(ntwk, layout = "mds")

```


```{r}
ggraph(ntwk_mds) +
  geom_edge_link(aes(alpha = edge_center)) +
  geom_node_point(
    aes(
      colour = close_impact, 
      size = betweenness
    )
  )  + 
  scale_color_viridis(option = "A") +
  geom_node_text(aes(label = enc2utf8(as.character(name)))) +
  theme_graph(base_family = "sans") + 
  theme(legend.position = "none")
```



```{r}
ntwk %>% 
  ggraph(layout = "linear", circular = T) +
  geom_edge_arc(alpha = 0.25) + 
  coord_fixed() +
  theme_graph()
```


Making a network constellation of Greek mythical figures and characters seems fitting, given the hours the Greeks spent connecting the dots of stars.

A complete network graph is more like the overlaying of multiple constellations, since a single star (or dart) is drawn through multiple times as it connects with various others.  Perhaps we can display single routes through a set of nodes at a time, corresponding to constellations.

Drawing lines between such rich and varied characters as those of the odyssey underscores the reductive nature of any analysis (*We murder to dissect*). Consider the start line connecting Menelaus to Odysseus in comparison to the following phrases, which the former speaks about the latter: “…“

Consider also the lines between Odysseus, Penelope, and the suitors. We could graph these as directed lines, but even so the liner tells us nothing of the difference between the amorous intentions of the suitors to Penelope, or the murderous rage of Odysseus to the suitors.

Another instructive relationship to look at is Poseidon. In the network graph, Poseidon is it 815 node with my neck do you know just like any other know. Yep in the odyssey, Poseidon launch every message. In a poem which takes place, the god of the sea is underneath every relationship. Depicting such a figure with in a network of relationships in the same manner as others call to illustrates the limitations of our visualization, and of the conceptual framework which structure.  Modern day visualizations and models fall into the same trap queen trying to depict environmental variables. Or, entities which have an on known environmental over at Beach in nomad components. (Think about the connections and grab me the fire GE some years back which shows the connection between different diagnoses).

Because God and goddesses are so often and body man of environmental and natural source, it makes sense that they would it not fit, or accurately be detected, in this framework. In studies of the relationship in structure between portions of the network and the marvel comics universe have shown that similarities, and in each of these what is being depicted is a power.
